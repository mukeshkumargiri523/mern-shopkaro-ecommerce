{"version":3,"file":"static/js/680.fa03615a.chunk.js","mappings":"8JAGA,MA0BA,EA1BgBA,IAAyB,IAAxB,KAAEC,EAAO,SAASD,EACjC,MAAOE,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,GAC7BC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAYjB,OAVAC,EAAAA,EAAAA,YAAU,KACR,MAAMC,EAAWC,aAAY,KAC3BR,GAAUS,KAAWA,GAAK,GACzB,KAKH,OAJU,IAAVV,GACEG,EAAS,IAADQ,OAAKZ,GAAQ,CACnBa,MAAOP,EAASQ,WAEb,IAAMC,cAAcN,EAAS,GACnC,CAACR,EAAOG,EAAUE,EAAUN,KAE7BgB,EAAAA,EAAAA,MAAA,OACEC,MAAO,CAAEC,OAAQ,QAASC,gBAAiB,UAC3CC,UAAU,gEAA+DC,SAAA,EAEzEL,EAAAA,EAAAA,MAAA,MAAII,UAAU,cAAaC,SAAA,CAAC,yBAAuBpB,EAAM,eACzDqB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,6BAA6BG,KAAK,aAC7C,C,+GCnBK,SAASC,IACtB,MAAOC,EAAIC,IAASvB,EAAAA,EAAAA,WAAS,IACvB,KAAEwB,IAASC,EAAAA,EAAAA,KAajB,OAZApB,EAAAA,EAAAA,YAAU,KASA,OAAJmB,QAAI,IAAJA,GAAAA,EAAME,OARQC,kBACEC,EAAAA,EAAMC,IAAI,2BACpBC,KAAKR,GACXC,GAAM,GAENA,GAAM,EACR,EAEeQ,EAAW,GAC3B,CAAK,OAAJP,QAAI,IAAJA,OAAI,EAAJA,EAAME,QAEHJ,GAAKH,EAAAA,EAAAA,KAACa,EAAAA,GAAM,KAAMb,EAAAA,EAAAA,KAACc,EAAAA,EAAO,GACnC,C","sources":["components/Spinner.jsx","routes/PrivateRoute.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\n\r\nconst Spinner = ({ path = \"login\" }) => {\r\n  const [count, setCount] = useState(2);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setCount((prev) => --prev);\r\n    }, 1000);\r\n    count === 0 &&\r\n      navigate(`/${path}`, {\r\n        state: location.pathname,\r\n      });\r\n    return () => clearInterval(interval);\r\n  }, [count, navigate, location, path]);\r\n  return (\r\n    <div\r\n      style={{ height: \"100vh\", backgroundColor: \"yellow\" }}\r\n      className=\"d-flex flex-column  justify-content-center align-items-center\"\r\n    >\r\n      <h1 className=\"text-center\">Redirecting to you in {count} seconds</h1>\r\n      <div className=\"spinner-border text-danger\" role=\"status\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import { useEffect, useState } from \"react\";\r\nimport useAuthContext from \"../context/authContext\";\r\nimport { Outlet } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Spinner from \"../components/Spinner\";\r\n\r\nexport default function PrivateRoute() {\r\n  const [ok, setOk] = useState(false);\r\n  const { auth } = useAuthContext();\r\n  useEffect(() => {\r\n    const authCheck = async () => {\r\n      const res = await axios.get(`/api/v1/auth/user-auth`);\r\n      if (res.data.ok) {\r\n        setOk(true);\r\n      } else {\r\n        setOk(false);\r\n      }\r\n    };\r\n    if (auth?.token) authCheck();\r\n  }, [auth?.token]);\r\n\r\n  return ok ? <Outlet /> : <Spinner />;\r\n}\r\n"],"names":["_ref","path","count","setCount","useState","navigate","useNavigate","location","useLocation","useEffect","interval","setInterval","prev","concat","state","pathname","clearInterval","_jsxs","style","height","backgroundColor","className","children","_jsx","role","PrivateRoute","ok","setOk","auth","useAuthContext","token","async","axios","get","data","authCheck","Outlet","Spinner"],"sourceRoot":""}