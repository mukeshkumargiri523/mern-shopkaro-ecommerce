{"version":3,"file":"static/js/656.c66bd208.chunk.js","mappings":"4JAwBA,QArBA,WACE,OACEA,EAAAA,EAAAA,KAAA,OACEC,MAAO,CACLC,QAAS,OACTC,eAAgB,SAChBC,WAAY,UACZC,UAEFL,EAAAA,EAAAA,KAACM,EAAAA,GAAG,CACFC,SAAS,EACTC,OAAO,MACPC,MAAM,MACNC,UAAU,cACVC,aAAc,CAAC,EACfC,aAAa,iBAIrB,C,gKCsUA,QAjVA,WAAqB,IAADC,EAAAC,EAAAC,EAAAC,EAClB,MAAM,KAAEC,EAAI,QAAEC,IAAYC,EAAAA,EAAAA,MACpB,KAAEC,EAAI,QAAEC,IAAYC,EAAAA,EAAAA,MACnBC,EAASC,IAAcC,EAAAA,EAAAA,WAAS,IAChCC,EAAaC,IAAkBF,EAAAA,EAAAA,UAAS,KACxCG,EAAYC,IAAiBJ,EAAAA,EAAAA,WAAS,IACtCK,EAAUC,IAAeN,EAAAA,EAAAA,UAAS,KAClCO,EAAgBC,IAAqBR,EAAAA,EAAAA,WAAS,GAE/CS,GAAWC,EAAAA,EAAAA,MAgJjB,OA/IiBC,EAAAA,EAAAA,OACjBC,EAAAA,EAAAA,YAAU,KACRb,GAAW,GACX,IAAIc,EAAmBC,aAAaC,QAAQ,QAC5C,GAAIF,EAAkB,CACpB,IACIG,EADaC,KAAKC,MAAML,GACHM,KAAKC,IAAa,IAADC,EACxC,IAAQ,OAAJ7B,QAAI,IAAJA,GAAU,QAAN6B,EAAJ7B,EAAM8B,YAAI,IAAAD,OAAN,EAAJA,EAAYE,UAAiB,OAAPH,QAAO,IAAPA,OAAO,EAAPA,EAASI,QACjC,OAAOJ,CACT,IAGF,IAAK,IAAIK,EAAI,EAAGA,EAAIT,EAAQU,QACtBV,EAAQW,cAASC,GADaH,IACD,CAC/B,IAAII,EAAIb,EAAQc,aAAQF,GACxBZ,EAAQe,OAAOF,EAAG,EACpB,MAaiBD,IAAfZ,EAAQ,GACVpB,EAAQ,IAERA,EAAQoB,GAEVZ,GAAc,EAChB,CACAL,GAAW,EAAM,GAChB,KAgBHa,EAAAA,EAAAA,YAAU,MACW,IAAfT,GAfN,WACE,GAAIR,EAAM,CACR,IAAIqC,EAAcrC,EAAKwB,KAAKc,IACrBA,EAAKC,eAAe,kBACvBD,EAAKE,aAAe,GAGbF,KAGXrC,EAAQoC,EACV,CACF,CAIII,EACF,GACC,CAACjC,KAyDJS,EAAAA,EAAAA,YAAU,KAROyB,WACf,IACE,MAAM,KAAEC,SAAeC,EAAAA,EAAMC,IAAI,mCACjCtC,EAAmB,OAAJoC,QAAI,IAAJA,OAAI,EAAJA,EAAMrC,YACvB,CAAE,MAAOwC,GACPC,QAAQC,IAAIF,EACd,GAGAG,EAAU,GACT,CAAK,OAAJpD,QAAI,IAAJA,OAAI,EAAJA,EAAMqD,SA4BRtE,EAAAA,EAAAA,KAACuE,EAAAA,EAAM,CAACC,OAAQ,oBAAqBC,MAAO,YAAYpE,UACtDL,EAAAA,EAAAA,KAAA,OAAK0E,UAAU,YAAWrE,UACxBsE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,MAAKrE,SAAA,EAClBsE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,YAAWrE,SAAA,EACxBsE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,gCAA+BrE,SAAA,CAC3C,KACDL,EAAAA,EAAAA,KAAA,MAAI0E,UAAU,gCAA+BrE,SAAA,SAAAuE,QAAe,OAAJ3D,QAAI,IAAJA,OAAI,EAAJA,EAAMqD,SACxD,OAAJrD,QAAI,IAAJA,GAAU,QAANJ,EAAJI,EAAM8B,YAAI,IAAAlC,OAAN,EAAJA,EAAYgE,aAEhBF,EAAAA,EAAAA,MAAA,MAAID,UAAU,cAAarE,SAAA,EACpB,OAAJe,QAAI,IAAJA,OAAI,EAAJA,EAAM+B,QAAS,EAAC,YAAAyB,OACDxD,EAAK+B,OAAM,wBAAAyB,OACjB,OAAJ3D,QAAI,IAAJA,GAAAA,EAAMqD,MAAQ,GAAK,4BAErB,qBAAsB,KACzBtE,EAAAA,EAAAA,KAAC8E,EAAAA,IAAc,CAAC7E,MAAO,CAAE8E,MAAO,mBAGrCJ,EAAAA,EAAAA,MAAA,OAAKD,UAAU,MAAKrE,SAAA,EAClBL,EAAAA,EAAAA,KAAA,OAAK0E,UAAU,WAAUrE,SACtBkB,GACCvB,EAAAA,EAAAA,KAAA,OAAAK,UACEL,EAAAA,EAAAA,KAACgF,EAAAA,EAAM,OAGThF,EAAAA,EAAAA,KAAAiF,EAAAA,SAAA,CAAA5E,SACGe,IACK,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMwB,KAAKsC,IAAI,IAAAC,EAAAC,EAAA,OACbT,EAAAA,EAAAA,MAAA,OAEED,UAAU,wBACVzE,MAAO,CACLoF,OAAQ,oBACRC,aAAc,OACdC,WAAY,WACZlF,SAAA,EAEFL,EAAAA,EAAAA,KAAA,OAAK0E,UAAU,qCAAoCrE,SAChD6E,IACClF,EAAAA,EAAAA,KAAA,OACEwF,IAAG,iCAAAZ,OAAmCM,EAAKO,KAC3CxF,MAAO,CAAEO,OAAQ,QAASC,MAAO,SACjCiF,IAAI,qBAKVf,EAAAA,EAAAA,MAAA,OAAKD,UAAU,gBAAerE,SAAA,EAC5BL,EAAAA,EAAAA,KAAA,MAAAK,SAAK6E,EAAKL,QACVF,EAAAA,EAAAA,MAAA,KAAAtE,SAAA,CAAI6E,EAAKS,YAAYC,UAAU,EAAG,IAAI,UACtCjB,EAAAA,EAAAA,MAAA,MAAAtE,SAAA,CAAI,YAAU6E,EAAKW,SACM,8BAApB,OAAJX,QAAI,IAAJA,GAAc,QAAVC,EAAJD,EAAMY,gBAAQ,IAAAX,OAAV,EAAJA,EAAgBM,MACO,8BAApB,OAAJP,QAAI,IAAJA,GAAc,QAAVE,EAAJF,EAAMY,gBAAQ,IAAAV,OAAV,EAAJA,EAAgBK,MACdd,EAAAA,EAAAA,MAAAM,EAAAA,SAAA,CAAA5E,SAAA,EACEsE,EAAAA,EAAAA,MAAA,MAAAtE,SAAA,CAAI,UAAQ6E,EAAKH,UACjBJ,EAAAA,EAAAA,MAAA,MAAAtE,SAAA,CAAI,SAAO6E,EAAKa,YAGlB/F,EAAAA,EAAAA,KAAAiF,EAAAA,SAAA,KAEFjF,EAAAA,EAAAA,KAAA,OAAAK,UACEsE,EAAAA,EAAAA,MAAA,UACED,UAAU,6BACVsB,SAAWC,GAlHvC,SAAgCA,EAAGf,GACjC,IAAIgB,EAAe9E,EAAKwB,KAAKc,GACvBA,EAAK+B,MAAQP,EAAKO,KACpB/B,EAAKE,cAAgBqC,EAAEE,OAAOC,MACvB1C,GAEAA,IAGXrC,EAAQ6E,EACV,CAwG6CG,CAAuBJ,EAAGf,GAC3CkB,MAAOlB,EAAKtB,aAAavD,SAAA,EAEzBL,EAAAA,EAAAA,KAAA,UAAQoG,MAAM,IAAG/F,SAAC,OAClBL,EAAAA,EAAAA,KAAA,UAAQoG,MAAM,IAAG/F,SAAC,OAClBL,EAAAA,EAAAA,KAAA,UAAQoG,MAAM,IAAG/F,SAAC,OAClBL,EAAAA,EAAAA,KAAA,UAAQoG,MAAM,IAAG/F,SAAC,YAGtBsE,EAAAA,EAAAA,MAAA,UACED,UAAU,8BACV4B,QAASA,IA9JXC,KACtB,IACE,IAAIC,EAAS,IAAIpF,GACbqF,EAAQD,EAAOE,WAAWhD,GAASA,EAAK+B,MAAQc,IACpDC,EAAOhD,OAAOiD,EAAO,GACrBpF,EAAQmF,GACRjE,aAAaoE,QAAQ,OAAQjE,KAAKkE,UAAUJ,GAC9C,CAAE,MAAOtC,GACPC,QAAQC,IAAIF,EACd,GAqJuC2C,CAAe3B,EAAKO,KAAKpF,SAAA,CACzC,iBACgB,KACfL,EAAAA,EAAAA,KAAC8E,EAAAA,IAAc,CAAC7E,MAAO,CAAE8E,MAAO,qBAhD/BG,EAAKO,IAmDN,UAKhBd,EAAAA,EAAAA,MAAA,OACE1E,MAAO,CACL6G,OAAQ,gBACRC,WAAY,OACZzB,aAAc,OACd0B,QAAS,IACTC,SAAU,UAGZvC,UAAU,yCAAwCrE,SAAA,EAElDsE,EAAAA,EAAAA,MAAA,OACE1E,MAAO,CACLsF,WAAY,8CACZyB,QAAS,WACTjC,MAAO,SACP1E,SAAA,EAEFL,EAAAA,EAAAA,KAAA,MAAAK,SAAI,kBACJL,EAAAA,EAAAA,KAAA,KAAAK,SAAG,gCACHL,EAAAA,EAAAA,KAAA,aAEF2E,EAAAA,EAAAA,MAAA,OACE1E,MAAO,CACLsF,WAAY,8CACZR,MAAO,UACPvE,OAAQ,QAEVkE,UAAU,MAAKrE,SAAA,EAEfsE,EAAAA,EAAAA,MAAA,MAAAtE,SAAA,CAAI,UA1LC6G,MACjB,IAUE,OAToB9F,EAAK+F,QACvB,CAACC,EAAQ1D,IAASA,EAAKmC,MAAQnC,EAAKE,aAAewD,GACnD,GAOiBC,eAAe,QAAS,CACzCpH,MAAO,WACPqH,SAAU,OAEd,CAAE,MAAOpD,GACPC,QAAQC,IAAIF,EACd,GAyKwBgD,MACP,OAAJjG,QAAI,IAAJA,GAAU,QAANH,EAAJG,EAAM8B,YAAI,IAAAjC,GAAVA,EAAYyG,SACXvH,EAAAA,EAAAA,KAAAiF,EAAAA,SAAA,CAAA5E,UACEsE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,OAAMrE,SAAA,EACnBL,EAAAA,EAAAA,KAAA,MAAAK,SAAI,qBACJL,EAAAA,EAAAA,KAAA,MAAAK,SAAS,OAAJY,QAAI,IAAJA,GAAU,QAANF,EAAJE,EAAM8B,YAAI,IAAAhC,OAAN,EAAJA,EAAYwG,WACjBvH,EAAAA,EAAAA,KAAA,UACE0E,UAAU,sCACV4B,QAASA,IAAMpE,EAAS,2BAA2B7B,SACpD,yBAMLL,EAAAA,EAAAA,KAAA,OAAK0E,UAAU,OAAMrE,SACd,OAAJY,QAAI,IAAJA,GAAAA,EAAMqD,OACLtE,EAAAA,EAAAA,KAAA,UACE0E,UAAU,mBACV4B,QAASA,IAAMpE,EAAS,2BAA2B7B,SACpD,oBAIDL,EAAAA,EAAAA,KAAA,UACE0E,UAAU,0BACV4B,QAASA,IACPpE,EAAS,SAAU,CACjBsF,MAAO,UAEVnH,SACF,+BAMNqB,GAAmB,OAAJN,QAAI,IAAJA,GAAAA,EAAM+B,QACpBwB,EAAAA,EAAAA,MAAA,OAAKD,UAAU,WAAUrE,SAAA,EACvBL,EAAAA,EAAAA,KAACyH,EAAAA,EAAM,CACLC,QAAS,CACPC,cAAejG,EACfkG,OAAQ,CAAEC,KAAM,UAElBC,WAAahG,IACXC,EAAYD,EAAS,KAGzB9B,EAAAA,EAAAA,KAAA,UACE0E,UAAU,kBACV4B,QA/LExC,UACpB,IACE7B,GAAkB,GAKlB,IAAI8F,EAJgB3G,EAAK+F,QACvB,CAACC,EAAQ1D,IAASA,EAAKmC,MAAQnC,EAAKE,aAAewD,GACnD,GAGF,MAAM,MAAEY,SAAgBlG,EAASmG,wBAC3B,KAAElE,SAAeC,EAAAA,EAAMkE,KAAK,oCAAqC,CACrEF,QACA5G,OACA2G,mBAEF9F,GAAkB,GAClBM,aAAa4F,WAAW,QACxB9G,EAAQ,IACRa,EAAS,0BACTkG,EAAAA,GAAMC,QAAQ,kCAChB,CAAE,MAAOC,GACPnE,QAAQC,IAAIkE,GACZ9G,GAAW,EACb,GA0KkB+G,SACEvG,IAAmBF,KAAiB,OAAJb,QAAI,IAAJA,GAAU,QAAND,EAAJC,EAAM8B,YAAI,IAAA/B,GAAVA,EAAYuG,SAC7ClH,SAEA2B,EAAiB,eAAiB,oBAGrC,oBAQpB,C","sources":["components/Loader.jsx","pages/CartPage.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { DNA } from \"react-loader-spinner\";\r\n\r\nfunction Loader() {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <DNA\r\n        visible={true}\r\n        height=\"160\"\r\n        width=\"160\"\r\n        ariaLabel=\"dna-loading\"\r\n        wrapperStyle={{}}\r\n        wrapperClass=\"dna-wrapper\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Layout from \"../components/layout/Layout\";\r\nimport useAuthContext from \"../context/authContext\";\r\nimport useCartContext from \"../context/cartContext\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { FaShoppingCart } from \"react-icons/fa\";\r\nimport DropIn from \"braintree-web-drop-in-react\";\r\nimport axios from \"axios\";\r\nimport Loader from \"../components/Loader\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nfunction CartPage() {\r\n  const { auth, setAuth } = useAuthContext();\r\n  const { cart, setCart } = useCartContext();\r\n  const [loading, setLoading] = useState(false);\r\n  const [clientToken, setClientToken] = useState(\"\");\r\n  const [loadEffect, setLoadEffect] = useState(true);\r\n  const [instance, setInstance] = useState(\"\");\r\n  const [paymentLoading, setPaymentLoading] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    let existingCartItem = localStorage.getItem(\"cart\");\r\n    if (existingCartItem) {\r\n      let parsedItem = JSON.parse(existingCartItem);\r\n      let newCart = parsedItem.map((singItm) => {\r\n        if (auth?.user?.email === singItm?.userId) {\r\n          return singItm;\r\n        }\r\n      });\r\n\r\n      for (let i = 0; i < newCart.length; i++) {\r\n        if (newCart.includes(undefined)) {\r\n          let x = newCart.indexOf(undefined);\r\n          newCart.splice(x, 1);\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n\r\n      // let veryNewCart = newCart.map((item) => {\r\n      //   console.log(item);\r\n      //   if (item !== undefined) {\r\n      //     return item;\r\n      //   } else {\r\n      //     return null;\r\n      //   }\r\n      // });\r\n      if (newCart[0] === undefined) {\r\n        setCart([]);\r\n      } else {\r\n        setCart(newCart);\r\n      }\r\n      setLoadEffect(false);\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  function handleCartQuantity() {\r\n    if (cart) {\r\n      let veryNewCart = cart.map((item) => {\r\n        if (!item.hasOwnProperty(\"cartQuantity\")) {\r\n          item.cartQuantity = 1;\r\n          return item;\r\n        } else {\r\n          return item;\r\n        }\r\n      });\r\n      setCart(veryNewCart);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (loadEffect === false) {\r\n      handleCartQuantity();\r\n    }\r\n  }, [loadEffect]);\r\n\r\n  //remove Item\r\n  const removeCartItem = (pid) => {\r\n    try {\r\n      let myCart = [...cart];\r\n      let index = myCart.findIndex((item) => item._id === pid);\r\n      myCart.splice(index, 1);\r\n      setCart(myCart);\r\n      localStorage.setItem(\"cart\", JSON.stringify(myCart));\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  //total price\r\n  const totalPrice = () => {\r\n    try {\r\n      const totalAmount = cart.reduce(\r\n        (amount, item) => item.price * item.cartQuantity + amount,\r\n        0\r\n      );\r\n\r\n      // let total = 0;\r\n      // cart?.map((item) => {\r\n      //   total = total + item.price;\r\n      // });\r\n      return totalAmount.toLocaleString(\"en-US\", {\r\n        style: \"currency\",\r\n        currency: \"USD\",\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  function handleQuantityAndPrice(e, prod) {\r\n    let newValueCart = cart.map((item) => {\r\n      if (item._id === prod._id) {\r\n        item.cartQuantity = +e.target.value;\r\n        return item;\r\n      } else {\r\n        return item;\r\n      }\r\n    });\r\n    setCart(newValueCart);\r\n  }\r\n\r\n  //get payment gateway token\r\n  const getToken = async () => {\r\n    try {\r\n      const { data } = await axios.get(\"/api/v1/product/braintree/token\");\r\n      setClientToken(data?.clientToken);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    getToken();\r\n  }, [auth?.token]);\r\n\r\n  const handlePayment = async () => {\r\n    try {\r\n      setPaymentLoading(true);\r\n      const totalAmount = cart.reduce(\r\n        (amount, item) => item.price * item.cartQuantity + amount,\r\n        0\r\n      );\r\n      let totalCartPrice = totalAmount;\r\n      const { nonce } = await instance.requestPaymentMethod();\r\n      const { data } = await axios.post(\"/api/v1/product/braintree/payment\", {\r\n        nonce,\r\n        cart,\r\n        totalCartPrice,\r\n      });\r\n      setPaymentLoading(false);\r\n      localStorage.removeItem(\"cart\");\r\n      setCart([]);\r\n      navigate(\"/dashboard/user/orders\");\r\n      toast.success(\"Payment Completed Successfully \");\r\n    } catch (error) {\r\n      console.log(error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Layout clName={\"bg-primary-subtle\"} title={\"CART Page\"}>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12\">\r\n            <div className=\"d-flex justify-content-center\">\r\n              {\" \"}\r\n              <h2 className=\"text-center mt-1 bg-light p-2\">{`Hello ${auth?.token &&\r\n                auth?.user?.name}`}</h2>\r\n            </div>\r\n            <h4 className=\"text-center\">\r\n              {cart?.length > 1\r\n                ? `You Have ${cart.length} items in your cart ${\r\n                    auth?.token ? \"\" : \"Please Login to Checkout\"\r\n                  }`\r\n                : \"Your Cart is Empty\"}{\" \"}\r\n              {<FaShoppingCart style={{ color: \"orange\" }} />}\r\n            </h4>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-6\">\r\n              {loading ? (\r\n                <div>\r\n                  <Loader />\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  {cart &&\r\n                    cart?.map((prod) => (\r\n                      <div\r\n                        key={prod._id}\r\n                        className=\"row mb-2 flex-row p-2\"\r\n                        style={{\r\n                          border: \"2px solid skyblue\",\r\n                          borderRadius: \"15px\",\r\n                          background: \"#fffaf2\",\r\n                        }}\r\n                      >\r\n                        <div className=\"col-md-6 d-flex align-items-center\">\r\n                          {prod && (\r\n                            <img\r\n                              src={`/api/v1/product/product-photo/${prod._id}`}\r\n                              style={{ height: \"190px\", width: \"230px\" }}\r\n                              alt=\"product_image\"\r\n                            />\r\n                          )}\r\n                        </div>\r\n\r\n                        <div className=\"col-md-6 px-5\">\r\n                          <h6>{prod.name}</h6>\r\n                          <p>{prod.description.substring(0, 20)}...</p>\r\n                          <h6>Price :$ {prod.price}</h6>\r\n                          {prod?.category?._id === \"660c3a703b009992de3e49a4\" ||\r\n                          prod?.category?._id === \"660c3a813b009992de3e49a9\" ? (\r\n                            <>\r\n                              <h6>Color: {prod.color}</h6>\r\n                              <h6>Size: {prod.size}</h6>\r\n                            </>\r\n                          ) : (\r\n                            <></>\r\n                          )}\r\n                          <div>\r\n                            <select\r\n                              className=\"form-select mt-1 mb-1 w-50\"\r\n                              onChange={(e) => handleQuantityAndPrice(e, prod)}\r\n                              value={prod.cartQuantity}\r\n                            >\r\n                              <option value=\"1\">1</option>\r\n                              <option value=\"2\">2</option>\r\n                              <option value=\"3\">3</option>\r\n                              <option value=\"4\">4</option>\r\n                            </select>\r\n                          </div>\r\n                          <button\r\n                            className=\"btn btn-danger cartBtn mt-1\"\r\n                            onClick={() => removeCartItem(prod._id)}\r\n                          >\r\n                            Remove Product{\" \"}\r\n                            <FaShoppingCart style={{ color: \"#0ffff8\" }} />\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                </>\r\n              )}\r\n            </div>\r\n            <div\r\n              style={{\r\n                margin: \"0 1rem 1rem 0\",\r\n                marginLeft: \"1rem\",\r\n                borderRadius: \"1rem\",\r\n                padding: \"0\",\r\n                overflow: \"hidden\",\r\n                // maxHeight: \"35rem\",\r\n              }}\r\n              className=\"col-md-5  text-center bg-danger-subtle\"\r\n            >\r\n              <div\r\n                style={{\r\n                  background: \"linear-gradient(to right, #add100, #7b920a)\",\r\n                  padding: \"3px 10px\",\r\n                  color: \"white\",\r\n                }}\r\n              >\r\n                <h4>Cart Summary</h4>\r\n                <p>Total | Checkout | Payment</p>\r\n                <hr />\r\n              </div>\r\n              <div\r\n                style={{\r\n                  background: \"linear-gradient(to right, #ff4e50, #f9d423)\",\r\n                  color: \"#E0FFFF\",\r\n                  height: \"100%\",\r\n                }}\r\n                className=\"p-3\"\r\n              >\r\n                <h5>Total: {totalPrice()}</h5>\r\n                {auth?.user?.address ? (\r\n                  <>\r\n                    <div className=\"mb-3\">\r\n                      <h4>Current Address</h4>\r\n                      <h5>{auth?.user?.address}</h5>\r\n                      <button\r\n                        className=\"btn btn-outline-info text-secondary\"\r\n                        onClick={() => navigate(`/dashboard/user/profile`)}\r\n                      >\r\n                        Update Address\r\n                      </button>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <div className=\"mb-3\">\r\n                    {auth?.token ? (\r\n                      <button\r\n                        className=\"btn-outline-info\"\r\n                        onClick={() => navigate(`/dashboard/user/profile`)}\r\n                      >\r\n                        Update Address\r\n                      </button>\r\n                    ) : (\r\n                      <button\r\n                        className=\"btn btn-outline-warning\"\r\n                        onClick={() =>\r\n                          navigate(`/login`, {\r\n                            state: \"/cart\",\r\n                          })\r\n                        }\r\n                      >\r\n                        PLease Login to Checkout\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                {clientToken && cart?.length ? (\r\n                  <div className=\"mt-2 p-2\">\r\n                    <DropIn\r\n                      options={{\r\n                        authorization: clientToken,\r\n                        paypal: { flow: \"vault\" },\r\n                      }}\r\n                      onInstance={(instance) => {\r\n                        setInstance(instance);\r\n                      }}\r\n                    />\r\n                    <button\r\n                      className=\"btn btn-primary\"\r\n                      onClick={handlePayment}\r\n                      disabled={\r\n                        paymentLoading || !instance || !auth?.user?.address\r\n                      }\r\n                    >\r\n                      {paymentLoading ? \"Processing..\" : \"Make Payment\"}\r\n                    </button>\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default CartPage;\r\n"],"names":["_jsx","style","display","justifyContent","alignItems","children","DNA","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","_auth$user2","_auth$user3","_auth$user4","_auth$user5","auth","setAuth","useAuthContext","cart","setCart","useCartContext","loading","setLoading","useState","clientToken","setClientToken","loadEffect","setLoadEffect","instance","setInstance","paymentLoading","setPaymentLoading","navigate","useNavigate","useLocation","useEffect","existingCartItem","localStorage","getItem","newCart","JSON","parse","map","singItm","_auth$user","user","email","userId","i","length","includes","undefined","x","indexOf","splice","veryNewCart","item","hasOwnProperty","cartQuantity","handleCartQuantity","async","data","axios","get","err","console","log","getToken","token","Layout","clName","title","className","_jsxs","concat","name","FaShoppingCart","color","Loader","_Fragment","prod","_prod$category","_prod$category2","border","borderRadius","background","src","_id","alt","description","substring","price","category","size","onChange","e","newValueCart","target","value","handleQuantityAndPrice","onClick","pid","myCart","index","findIndex","setItem","stringify","removeCartItem","margin","marginLeft","padding","overflow","totalPrice","reduce","amount","toLocaleString","currency","address","state","DropIn","options","authorization","paypal","flow","onInstance","totalCartPrice","nonce","requestPaymentMethod","post","removeItem","toast","success","error","disabled"],"sourceRoot":""}