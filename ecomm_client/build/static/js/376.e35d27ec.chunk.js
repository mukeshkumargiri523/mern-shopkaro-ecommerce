"use strict";(self.webpackChunkecomm_client=self.webpackChunkecomm_client||[]).push([[376],{7908:(e,t,s)=>{s.d(t,{c:()=>L});var n=s(9060),a=s(1560),r=s(12);const l=s.p+"static/media/shopkaro_logo_1.567442ed2558ca715c16.png";var i=s(9867),o=s(4320),c=s(3208),d=s(8372),h=s(8088),m=s(288),u=s(2496);const p=function(){var e;const{search:t,setSearch:s}=(0,c.c)(),[l,i]=(0,n.useState)({keyword:"",result:[]}),[o,p]=(0,n.useState)(!1),x=(0,a.i6)();return(0,n.useEffect)((()=>{window.innerWidth>=1e3?p(!1):p(!0)}),[l,window.innerWidth]),(0,u.jsxs)("div",{children:[(0,u.jsxs)("form",{className:"d-flex gap-1 mt-2",onSubmit:async function(e){e.preventDefault();try{s({...t,keyword:e.target.value});const{data:n}=await d.c.get("/api/v1/product/search-product/".concat(t.keyword));s({...t,result:n}),x("/search")}catch(n){console.log(n)}},children:[(0,u.jsx)("input",{className:"form-control mr-sm-2",style:{height:"50px"},type:"search",placeholder:"Search",value:t.keyword,"aria-label":"Search",onChange:e=>{s({...t,keyword:e.target.value}),async function(e){e.preventDefault();try{i({...l,keyword:e.target.value});const{data:s}=await d.c.get("/api/v1/product/search-product/".concat(t.keyword));i({...l,result:s}),p(!0)}catch(s){console.log(s)}}(e)}}),(0,u.jsx)("div",{className:"bg-danger-subtle",onClick:()=>p(!1),style:{marginTop:"4px",height:"40px",display:"flex",alignItems:"center",borderRadius:"10px",cursor:"pointer"},children:(0,u.jsx)(m.I3U,{})}),(0,u.jsx)("button",{style:{color:"white"},className:"btn btn-outline-danger my-2 my-sm-0",type:"submit",children:(0,u.jsx)(h.sNu,{})})]}),l.result.length?(0,u.jsxs)(u.Fragment,{children:[" ",o?(0,u.jsx)("div",{className:"searchNavbarResult d-flex flex-column mt-2",children:null===l||void 0===l||null===(e=l.result)||void 0===e?void 0:e.map((e=>(0,u.jsxs)("div",{className:"card d-flex flex-row",style:{width:"25rem",marginLeft:"10px",overflow:"hidden",height:"80px",border:"2px solid purple"},children:[(0,u.jsx)(r.cH,{to:"/product/".concat(e.slug),style:{textDecoration:"none"},className:"product_link",children:e&&(0,u.jsx)("img",{src:"/api/v1/product/product-photo/".concat(e._id),className:"",style:{height:"65px"},alt:"product_image"})},e._id),(0,u.jsx)("div",{style:{border:"2px solid salmon"},className:"card-body bg-info-subtle",children:(0,u.jsxs)(r.cH,{to:"/product/".concat(e.slug),style:{textDecoration:"none",color:"black"},className:"product_link",children:[(0,u.jsx)("h6",{style:{marginTop:"-15px"},className:"card-title bg-danger-subtle",children:e.name}),(0,u.jsxs)("p",{className:"card-text",style:{fontSize:"10px",marginTop:"-15px"},children:[null===e||void 0===e?void 0:e.description.substring(0,30),"..."]})]},e._id)})]},null===e||void 0===e?void 0:e._id)))}):null]}):null]})};var x=s(6068),g=s(3096),j=s(6952),v=s(9307),f=s(8672),b=s(1832),y=s(7752);const w=e=>{let{cart:t,setCart:s,removeCartItem:n}=e;function a(e,n){let a=t.map((t=>{if(t._id===n._id){if("inc"===e)if(t.cartQuantity<4){t.cartQuantity+=1;const e=localStorage.getItem("cart");if(!e)return o.cp.error("remove product and try again");{let s=JSON.parse(e).filter((e=>e._id!==t._id));localStorage.setItem("cart",JSON.stringify([...s,t]))}}else o.cp.error("can't increase more than 4");if("dec"===e)if(t.cartQuantity>1){t.cartQuantity-=1;const e=localStorage.getItem("cart");if(!e)return o.cp.error("remove product and try again");{let s=JSON.parse(e).filter((e=>e._id!==t._id));localStorage.setItem("cart",JSON.stringify([...s,t]))}}else o.cp.error("can't reduce further");return t}return t}));s(a)}return(0,u.jsx)("div",{className:"cart-products",children:null===t||void 0===t?void 0:t.map((e=>(0,u.jsxs)("div",{className:"cart-product",children:[(0,u.jsx)("div",{className:"img-container",children:(0,u.jsx)("img",{src:"/api/v1/product/product-photo/".concat(e._id),alt:"cart_prod_img"})}),(0,u.jsxs)("div",{className:"prod-details",children:[(0,u.jsx)("span",{className:"name",children:e.name}),(0,u.jsx)(m.I3U,{onClick:()=>n(e._id)}),(0,u.jsxs)("div",{className:"quantity-buttons",children:[(0,u.jsx)("span",{onClick:()=>a("dec",e),children:"-"}),(0,u.jsx)("span",{className:"quantity-no",children:null===e||void 0===e?void 0:e.cartQuantity}),(0,u.jsx)("span",{onClick:()=>a("inc",e),children:"+"})]}),(0,u.jsxs)("div",{className:"text",children:[(0,u.jsx)("span",{children:null===e||void 0===e?void 0:e.cartQuantity}),(0,u.jsx)("span",{children:"x"}),(0,u.jsx)("span",{children:null===e||void 0===e?void 0:e.price}),"=",(0,u.jsxs)("span",{className:"cart-prod-price",children:["$ ",+(null===e||void 0===e?void 0:e.price)*+e.cartQuantity]})]})]})]},e._id)))})},N=e=>{let{setShowCart:t}=e;const{auth:s}=(0,i.c)(),{cart:a,setCart:l}=(0,g.c)(),[o,c]=(0,n.useState)(!0);function d(){if(a){let e=a.map((e=>(e.hasOwnProperty("cartQuantity")||(e.cartQuantity=1,localStorage.setItem("cart",JSON.stringify(a))),e)));l(e)}}(0,n.useEffect)((()=>{let e=localStorage.getItem("cart");if(e){let t=JSON.parse(e).map((e=>{var t;if((null===s||void 0===s||null===(t=s.user)||void 0===t?void 0:t.email)===(null===e||void 0===e?void 0:e.userId))return e}));for(let e=0;e<t.length&&t.includes(void 0);e++){let e=t.indexOf(void 0);t.splice(e,1)}void 0===t[0]?l([]):l(t),c(!1)}}),[]),(0,n.useEffect)((()=>{!1===o&&d()}),[o]);return(0,u.jsxs)("div",{className:"cart-panel",children:[(0,u.jsx)("div",{className:"opac-layer"}),(0,u.jsxs)("div",{className:"cart-content",children:[(0,u.jsxs)("div",{className:"cart-header",children:[(0,u.jsx)("span",{children:"Shopping Cart"}),(0,u.jsxs)("div",{className:"close-btn",onClick:()=>t(!1),children:[(0,u.jsx)(m.I3U,{}),(0,u.jsx)("span",{className:"text",children:"Close"})]})]}),!(null!==a&&void 0!==a&&a.length)&&(0,u.jsxs)("div",{className:"empty-cart",children:[(0,u.jsx)(y.mwv,{}),(0,u.jsx)("span",{children:"No Products in your cart"}),(0,u.jsx)("button",{onClick:()=>t(!1),className:"return-shop",children:"RETURN TO SHOP"})]}),!(null===a||void 0===a||!a.length)&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{style:{overflowY:"scroll"},children:(0,u.jsx)(w,{cart:a,setCart:l,removeCartItem:e=>{try{let t=[...a],s=t.findIndex((t=>t._id===e));t.splice(s,1),l(t),localStorage.setItem("cart",JSON.stringify(t))}catch(t){console.log(t)}},handleCartQunatity:d})}),(0,u.jsxs)("div",{className:"cart-footer",children:[(0,u.jsxs)("div",{className:"subtotal",children:[(0,u.jsx)("span",{className:"text",children:"Subtotal:"}),(0,u.jsx)("span",{className:"text total",children:(()=>{try{return a.reduce(((e,t)=>t.price*t.cartQuantity+e),0).toLocaleString("en-US",{style:"currency",currency:"USD"})}catch(e){console.log(e)}})()})]}),(0,u.jsx)("div",{className:"checkout-cart",children:(0,u.jsx)(r.cH,{to:"/cart",onClick:()=>t(!1),className:"checkout-button",children:"Checkout"})})]})]})]})]})},k=n.memo(N);const S=function(){var e;const{auth:t,setAuth:s}=(0,i.c)(),{mobileView:c,setMobileView:d}=(0,f.c)(),{bgChanger:m,setBgChanger:y}=(0,b.M)(),{cart:w}=(0,g.c)(),{visitedProduct:N,setVisitedProduct:S}=(0,v.c)(),C=(0,a.IT)(),[_,I]=(0,n.useState)("top"),[E,T]=(0,n.useState)(!1),[H,A]=(0,n.useState)(0),[L,R]=(0,n.useState)(""),[O,U]=(0,n.useState)(""),[P,D]=(0,n.useState)({}),Q=(0,x.c)();(0,n.useEffect)((()=>{window.innerWidth>=1e3&&d(!1)}),[window.innerWidth]);const V=()=>{window.innerWidth>991?(R("background: linear-gradient(to right, #3a7bd5, #00d2ff)"),window.scrollY>300?window.scrollY>H?I("hide"):I("show"):I("top"),A(window.scrollY)):R("background: linear-gradient(to right, #3a7bd5, #00d2ff)")};(0,n.useEffect)((()=>{window.scrollTo(0,0),d(!1)}),[C]),(0,n.useEffect)((()=>(window.addEventListener("scroll",V),()=>{window.removeEventListener("scroll",V)})),[H]);const W=async()=>{try{const e=await fetch("https://api.ipify.org"),t=await e.text();U(t),(async()=>{try{const e=await fetch("http://ip-api.com/json/".concat(O)),t=await e.json();D(t)}catch(e){console.log(e),o.m4.error("Unable to get location")}})()}catch(e){console.log(e),o.m4.error("Unable to get location")}};return(0,n.useEffect)((()=>{t.user&&W()}),[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("nav",{className:"navbar header navbar-expand-lg ".concat(_),children:(0,u.jsxs)("div",{className:"container-fluid",children:[(0,u.jsx)("button",{onClick:function(){d(!1===c)},className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo01","aria-controls":"navbarTogglerDemo01","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,u.jsx)("span",{className:"navbar-toggler-icon"})}),(0,u.jsxs)("div",{style:{background:L},className:"collapse navbar-collapse",id:"navbarTogglerDemo01",children:[(0,u.jsx)(r.cH,{to:"/",className:"navbar-brand",children:(0,u.jsx)("img",{src:l,alt:"logo"})}),(0,u.jsxs)("ul",{className:"navbar-nav ms-auto  mb-lg-0",children:[(0,u.jsx)(p,{}),(0,u.jsx)("li",{className:"nav-item",children:(0,u.jsx)(r.Af,{to:"/",className:"nav-link ","aria-current":"page",children:"Home"})}),(0,u.jsxs)("li",{className:"nav-item dropdown",children:[(0,u.jsx)(r.cH,{className:"nav-link dropdown-toggle",to:"/categories","data-bs-toggle":"dropdown",children:"Categories"}),(0,u.jsxs)("ul",{className:"dropdown-menu",style:{background:"linear-gradient(to right, rgba(\t0, 159, 194,0.6),rgba(13,10,11,0.6))"},children:[(0,u.jsx)("li",{children:(0,u.jsx)(r.cH,{style:{color:"purple"},className:"dropdown-item",to:"/categories",children:"All Categories"})}),null===Q||void 0===Q?void 0:Q.map((e=>(0,u.jsx)("li",{children:(0,u.jsx)(r.cH,{className:"dropdown-item",style:{color:"purple"},to:"/category/".concat(e.slug),children:e.name})},null===e||void 0===e?void 0:e._id)))]})]}),(0,u.jsxs)("li",{className:"nav-item dropdown",children:[(0,u.jsx)(r.Af,{className:"nav-link dropdown-toggle",style:{color:"white",backgroundColor:"transparent",border:"none",fontWeight:"normal"},role:"button","data-bs-toggle":"dropdown",children:"Bg Changer"}),(0,u.jsxs)("ul",{className:"dropdown-menu bg-dropdown",style:{background:"linear-gradient(to right, rgba(\t0, 159, 194,0.6),rgba(13,10,11,0.6))"},children:[(0,u.jsx)("li",{onClick:()=>y("bg-danger-subtle"),children:(0,u.jsxs)("button",{className:"dropdown-item ",children:[(0,u.jsx)("div",{className:"bg-danger"}),"Red"]})}),(0,u.jsx)("li",{onClick:()=>y("bg-info-subtle"),children:(0,u.jsxs)("button",{className:"dropdown-item ",children:[(0,u.jsx)("div",{className:"bg-primary"}),"Blue"]})})," ",(0,u.jsx)("li",{onClick:()=>y("bg-warning-subtle"),children:(0,u.jsxs)("button",{className:"dropdown-item ",children:[(0,u.jsx)("div",{className:"bg-warning"}),"Yellow"]})})," ",(0,u.jsx)("li",{onClick:()=>y("bg-success-subtle"),children:(0,u.jsxs)("button",{className:"dropdown-item ",children:[(0,u.jsx)("div",{className:"bg-success"}),"Green"]})}),(0,u.jsx)("li",{onClick:()=>y("bg-light"),children:(0,u.jsxs)("button",{className:"dropdown-item ",children:[(0,u.jsx)("div",{className:"bg-light"}),"White"]})})]})]}),(0,u.jsx)("li",{className:"nav-item ",children:(0,u.jsx)(r.Af,{to:"/register",className:"nav-link",children:"Register"})}),t.user?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("li",{className:"nav-item dropdown",children:[(0,u.jsx)(r.Af,{className:"nav-link dropdown-toggle",style:{backgroundColor:"transparent",borderBottom:"none"},role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"User"}),(0,u.jsxs)("ul",{className:"dropdown-menu ",style:{background:"linear-gradient(to right, rgba(\t0, 159, 194,0.6),rgba(13,10,11,0.6))"},children:[(0,u.jsx)("li",{children:(0,u.jsx)(r.Af,{to:"/dashboard/".concat(1===(null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.role)?"admin":"user"),style:{color:"purple"},className:"dropdown-item",children:"Dashboard"})}),(0,u.jsx)("li",{children:(0,u.jsx)(r.Af,{onClick:function(){s({...t,user:null,token:""}),localStorage.removeItem("auth"),S([]),localStorage.removeItem("visitedProduct"),o.m4.success("Logout successfully")},to:"/login",style:{color:"purple"},className:"dropdown-item ",children:"Logout"})})]})]})}):(0,u.jsx)("li",{className:"nav-item ",children:(0,u.jsx)(r.Af,{to:"/login",className:"nav-link",children:"Login"})}),(0,u.jsx)("li",{className:"nav-item ",style:{width:"110px",marginRight:"2px"},children:(0,u.jsxs)("div",{onClick:()=>T(!0),className:"nav-link",children:["Cart"," ",(0,u.jsx)(h.qVV,{style:{fontSize:"25px",color:"purple"}}),(0,u.jsx)(j.c,{style:{marginTop:"-20px",marginLeft:"-16px"},count:null===w||void 0===w?void 0:w.length})]})}),t.user&&(t.user?(0,u.jsxs)("div",{style:{marginLeft:"-15px"},className:"header_username d-flex flex-row ",children:[(0,u.jsx)("img",{src:"/api/v1/auth/user-photo/".concat(t.user.email),className:"profile-img",style:{height:"30px",borderRadius:"50%",width:"30px",marginLeft:"-10px"},alt:"product_image"}),(0,u.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,u.jsx)("span",{style:{fontSize:"12px",whiteSpace:"nowrap"},children:t.user.name}),(0,u.jsxs)("span",{style:{fontSize:"10px",whiteSpace:"nowrap"},children:[null===P||void 0===P?void 0:P.city,", ",null===P||void 0===P?void 0:P.regionName]})]})]}):null)]})]})]})}),E&&(0,u.jsx)(k,{setShowCart:T})]})};const C=function(){return(0,u.jsxs)("div",{className:"footer",children:[(0,u.jsxs)("div",{className:"d-flex flex-row flex-wrap",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{children:" Shop Non-Stop on ShopKaro"}),(0,u.jsx)("h3",{children:"Trusted by more than 1 Crore Indians Cash on Delivery | Free Delivery"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("img",{alt:"Google Play store",style:{marginRight:"2rem"},src:"https://images.meesho.com/images/pow/playstore-icon-big_400.webp"}),(0,u.jsx)("img",{alt:"App Store",src:"https://images.meesho.com/images/pow/appstore-icon-big_400.webp"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("li",{children:"Become a supplier"}),(0,u.jsx)("li",{children:"Career"}),(0,u.jsx)("li",{children:"Hall of Fame"}),(0,u.jsx)("li",{children:"Sitemap"}),(0,u.jsx)("li",{children:"Legal and Policies"}),(0,u.jsx)("li",{children:"ShopKaro tech Blog"}),(0,u.jsx)("li",{children:"Notices and Return"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h5",{children:"Join Us"}),(0,u.jsxs)("div",{className:"social_icons",children:[(0,u.jsx)(h.nXN,{color:"red"}),(0,u.jsx)(h.oR2,{color:"blue"}),(0,u.jsx)(h.AnO,{color:"skyblue"}),(0,u.jsx)(h.U7n,{color:"purple"})]})]}),(0,u.jsx)("div",{children:(0,u.jsx)("p",{children:"Fashnear Technologies Private Limited, Kadubeesanahalli Village, Varthur Hobli, Outer Ring Road Bellandur, Chennai, Chennai South, Tamil Nadu, India, 670103 E-mail address: query@shopkaro.com"})})]}),(0,u.jsx)("h4",{className:"text-center",children:"All Rights reserved \xa9 ShopKaro-Ecommerce"}),(0,u.jsxs)("p",{className:"text-center ml-4",children:[(0,u.jsx)(r.cH,{to:"/about",children:"About"}),"|",(0,u.jsx)(r.cH,{to:"/contact",children:"Contact Us"}),"|",(0,u.jsx)(r.cH,{to:"/policy",children:"Privacy Policy"})]})]})};var _,I=s(7648),E=s(4312);const T=s(4804).default.section(_||(_=(0,E.c)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n\n  .top-btn {\n    font-size: 2.4rem;\n    width: 6rem;\n    height: 6rem;\n    color: #fff;\n    background-color: blue;\n    border-radius: 50%;\n    position: fixed;\n    bottom: 5rem;\n    right: 5rem;\n    z-index: 999;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n\n    &--icon {\n      animation: gototop 1.2s linear infinite alternate-reverse;\n    }\n\n    @keyframes gototop {\n      0% {\n        transform: translateY(-0.5rem);\n      }\n      100% {\n        transform: translateY(1rem);\n      }\n    }\n  }\n"]))),H=function(){const[e,t]=(0,n.useState)(!1),s=()=>{const e=document.body.scrollTop||document.documentElement.scrollTop;t(e>20)};return(0,n.useEffect)((()=>(window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s))),[]),(0,u.jsx)(T,{children:e&&(0,u.jsx)("div",{className:"top-btn",onClick:function(){window.scrollTo({top:0,left:0,behaviour:"smooth"})},children:(0,u.jsx)(h.U5w,{className:"top-btn--icon"})})})};function A(e){let{clName:t,children:s,title:a,description:r,keywords:l,author:i}=e;const{mobileView:c,setMobileView:d}=(0,f.c)(),{bgChanger:h}=(0,b.M)();return(0,n.useEffect)((()=>{window.innerWidth>1e3&&d(!1)}),[window.innerWidth]),(0,u.jsx)(I.EN,{children:(0,u.jsxs)("div",{className:t,children:[(0,u.jsxs)(I.So,{children:[(0,u.jsx)("meta",{charSet:"utf-8"}),(0,u.jsx)("meta",{name:"keywords",content:l}),(0,u.jsx)("meta",{name:"description",content:r}),(0,u.jsx)("meta",{name:"author",content:i}),(0,u.jsx)("title",{children:a})]}),(0,u.jsx)(S,{}),(0,u.jsx)("main",{className:h,style:{minHeight:"80vh"},children:(0,u.jsxs)("div",{className:c?"incMt":"decMt",children:[(0,u.jsx)(o.ox,{}),s,(0,u.jsx)(H,{})]})}),(0,u.jsx)(C,{})]})})}A.defaultProps={title:"ShopKaro App",description:"mern stack project",keywords:"mern, react, ecommerce, shopkaro, project, node",author:"mukesh"};const L=A},6068:(e,t,s)=>{s.d(t,{c:()=>r});var n=s(8372),a=s(9060);function r(){const[e,t]=(0,a.useState)([]);return(0,a.useEffect)((()=>{(async()=>{try{const{data:e}=await n.c.get("/api/v1/category/get-all-category");t(null===e||void 0===e?void 0:e.category)}catch(e){console.log(e)}})()}),[]),e}}}]);
//# sourceMappingURL=376.e35d27ec.chunk.js.map