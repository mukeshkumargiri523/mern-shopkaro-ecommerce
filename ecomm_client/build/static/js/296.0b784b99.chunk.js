"use strict";(self.webpackChunkecomm_client=self.webpackChunkecomm_client||[]).push([[296],{7428:(e,r,d)=>{d.d(r,{c:()=>t});d(9060);var l=d(7360),s=d(2496);const t=function(){return(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,s.jsx)(l.CS,{visible:!0,height:"160",width:"160",ariaLabel:"dna-loading",wrapperStyle:{},wrapperClass:"dna-wrapper"})})}},8552:(e,r,d)=>{d.d(r,{c:()=>t});d(9060);var l=d(12),s=d(2496);const t=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"text-center p-2",style:{background:"linear-gradient(to right, #83a4d4, #b6fbff)",minHeight:"30vh",borderRadius:"10px"},children:(0,s.jsxs)("div",{className:"list-group",children:[(0,s.jsx)("h3",{style:{color:"peachpuff"},children:"User Panel"}),(0,s.jsx)(l.Af,{to:"/dashboard/user/profile",className:"list-group-item list-group-item-action",children:"Profile"}),(0,s.jsx)(l.Af,{to:"/dashboard/user/orders",className:"list-group-item list-group-item-action",children:"Orders"})]})})})}},532:(e,r,d)=>{d.r(r),d.d(r,{default:()=>f});var l=d(9060),s=d(7908),t=d(8552),o=d(4320),i=d(8372),n=d(9867),c=d(3380),a=d.n(c),h=d(1560),u=d(7428),x=d(2496);const f=function(){const[e,r]=(0,l.useState)([]),{auth:d,setAuth:c}=(0,n.c)(),[f,b]=(0,l.useState)(!0),p=(0,h.i6)();return(0,l.useEffect)((()=>{null!==d&&void 0!==d&&d.token&&(async()=>{try{b(!0);const{data:e}=await i.c.get("/api/v1/auth/orders");r(e.orders),b(!1)}catch(e){console.log(e),b(!1),o.cp.error("Something went wrong")}})()}),[]),(0,x.jsx)(s.c,{clName:"bg-info-subtle",title:"User orders",children:(0,x.jsxs)("div",{className:"container-fluid my-2 py-2 text-center",children:[(0,x.jsx)("div",{className:"d-flex justify-content-center",children:(0,x.jsx)("h2",{children:"Orders"})}),(0,x.jsxs)("div",{className:"row p-3",children:[(0,x.jsx)("div",{className:"col-md-4 mt-2",children:(0,x.jsx)(t.c,{})}),(0,x.jsxs)("div",{className:"col-md-8 mt-2",children:[(0,x.jsx)("h3",{children:"List of All Orders"}),f?(0,x.jsx)("div",{className:"d-flex justify-content-center",children:(0,x.jsx)(u.c,{})}):(0,x.jsx)(x.Fragment,{children:0!==e.length?null===e||void 0===e?void 0:e.map(((e,r)=>{var d,l,s;return(0,x.jsx)("div",{className:"border shadow",children:(0,x.jsxs)("table",{className:"table",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{style:{borderLeft:"1px solid green",borderBottom:"1px solid red"},children:"#"}),(0,x.jsx)("th",{style:{borderLeft:"1px solid green",borderBottom:"1px solid red"},children:"Status"}),(0,x.jsx)("th",{style:{borderLeft:"1px solid green",borderBottom:"1px solid red"},children:"Buyer"}),(0,x.jsx)("th",{style:{borderLeft:"1px solid green",borderBottom:"1px solid red"},children:"Order Name"}),(0,x.jsx)("th",{style:{borderLeft:"1px solid green",borderBottom:"1px solid red"},children:"Cart Amount"}),(0,x.jsx)("th",{style:{borderLeft:"1px solid green",borderBottom:"1px solid red"},children:"Orders"}),(0,x.jsx)("th",{style:{borderLeft:"1px solid green",borderBottom:"1px solid red"},children:"Payment"}),(0,x.jsx)("th",{style:{borderLeft:"1px solid green",borderBottom:"1px solid red"},children:"Quantity"})]})}),(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{onClick:()=>p("/dashboard/user/order/".concat(e._id)),style:{backgroundColor:"#ffc5cd"},children:[(0,x.jsx)("td",{style:{backgroundColor:"#ffc5cd",borderLeft:"1px solid blue"},children:r+1}),(0,x.jsx)("td",{style:{backgroundColor:"#ffc5cd",borderLeft:"1px solid blue"},children:null===e||void 0===e?void 0:e.status}),(0,x.jsx)("td",{style:{backgroundColor:"#ffc5cd",borderLeft:"1px solid blue"},children:null===e||void 0===e||null===(d=e.buyer)||void 0===d?void 0:d.name}),(0,x.jsx)("td",{style:{backgroundColor:"#ffc5cd",borderLeft:"1px solid blue"},children:null===e||void 0===e||null===(l=e.products[0])||void 0===l?void 0:l.brand}),(0,x.jsx)("td",{style:{backgroundColor:"#ffc5cd",borderLeft:"1px solid blue"},children:null===e||void 0===e?void 0:e.payment.transaction.amount}),(0,x.jsx)("td",{style:{backgroundColor:"#ffc5cd",borderLeft:"1px solid blue"},children:a()(null===e||void 0===e?void 0:e.createdAt).fromNow()}),(0,x.jsx)("td",{style:{backgroundColor:"#ffc5cd",borderLeft:"1px solid blue"},children:null!==e&&void 0!==e&&e.payment.success?"Success":"Failed"}),(0,x.jsx)("td",{style:{backgroundColor:"#ffc5cd",borderLeft:"1px solid blue"},children:null===e||void 0===e||null===(s=e.products)||void 0===s?void 0:s.length})]})})]})},r)})):(0,x.jsx)("h3",{children:"No Orders placed yet"})})]})]})]})})}}}]);
//# sourceMappingURL=296.0b784b99.chunk.js.map